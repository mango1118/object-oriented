"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[296],{7296:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)",width:"750px"}},[t("h1",{staticStyle:{height:"40px","margin-left":"20px"}},[e._v("修改个人信息")]),t("el-form",{staticStyle:{width:"600px"},attrs:{model:e.saveform,"label-width":"80px",size:"small"}},[t("el-form-item",{attrs:{label:"账户",prop:"account"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.saveform.readerAccount,callback:function(t){e.$set(e.saveform,"readerAccount",t)},expression:"saveform.readerAccount"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:e.saveform.readerPassword,callback:function(t){e.$set(e.saveform,"readerPassword",t)},expression:"saveform.readerPassword"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.saveform.readerName,callback:function(t){e.$set(e.saveform,"readerName",t)},expression:"saveform.readerName"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.saveform.readerEmail,callback:function(t){e.$set(e.saveform,"readerEmail",t)},expression:"saveform.readerEmail"}})],1),t("el-form-item",{attrs:{label:"个性签名",prop:"description"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.saveform.readerDescription,callback:function(t){e.$set(e.saveform,"readerDescription",t)},expression:"saveform.readerDescription"}})],1)],1),t("div",{staticClass:"dialog-footer",staticStyle:{height:"40px","text-align":"right","margin-right":"15px"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"warning"},on:{click:e.resetForm}},[e._v("重 置")]),t("el-button",{attrs:{type:"primary"},on:{click:e.saveForm}},[e._v("确 定")])],1)],1)])},s=[],o={name:"ReaderSelfView",data(){return{tableData:[],total:0,pageNum:1,pageSize:5,readerNow:{},readerAccount:null,readerName:null,readerEmail:null,saveform:{},headerBg:"headerBg"}},methods:{collapse(){this.isCollapse=!this.isCollapse,this.isCollapse?(this.logoTextShow=!1,this.sideWidth=64,this.collapseBtnClass="el-icon-s-unfold"):(this.logoTextShow=!0,this.sideWidth=200,this.collapseBtnClass="el-icon-s-fold")},sendReq(){this.axios.get(`/readers/${this.readerNow.id}`).then((e=>{console.log(e),localStorage.setItem("user",JSON.stringify(e.data)),this.saveform=e.data,this.readerNow=e.data}))},saveForm(){this.saveform.level=this.readerNow.level,this.axios.put("/readers",this.saveform).then((e=>{e.data?(this.$message.success("保存成功"),this.sendReq()):this.$message.error(`保存失败，原因：${e.msg}`)}))},resetForm(){this.sendReq(),this.saveForm=this.readerNow}},mounted:function(){this.readerNow=JSON.parse(localStorage.getItem("user")),console.log(this.readerNow),this.saveform=this.readerNow}},l=o,i=a(1001),n=(0,i.Z)(l,r,s,!1,null,"44731f71",null),m=n.exports}}]);
//# sourceMappingURL=296.d9ab79af.js.map